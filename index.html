<header>
  <h1>Holodnak Impact Index (v17)</h1>
  <p class="tagline">
    Measuring human influence on prosperity, democracy, science, and space.
  </p>
  <div class="meta">
    Weights: Prosperity <span id="weight-prosperity">0.45</span> · Democracy <span id="weight-democracy">0.10</span> · Science & Tech <span id="weight-science">0.35</span> · Space <span id="weight-space">0.10</span>
  </div>
</header>

<main>
  <section>
    <div id="toolbar">
      <input id="search" type="search" placeholder="Search people or countries… (comma to compare)" aria-label="Search" title="Type multiple names or countries separated by commas to compare (e.g., John, Jane)">
      <span class="pill" id="count"></span>
    </div>

    <!-- Sliders for adjusting weights -->
    <div id="weight-sliders" style="margin: 20px 0; padding: 10px; background: var(--card); border-radius: 8px;">
      <h3>Adjust Weights</h3>
      <label>
        Prosperity:
        <input type="range" id="slider-prosperity" min="0" max="1" step="0.01" value="0.45" />
      </label>
      <br />
      <label>
        Democracy:
        <input type="range" id="slider-democracy" min="0" max="1" step="0.01" value="0.10" />
      </label>
      <br />
      <label>
        Science & Tech:
        <input type="range" id="slider-science" min="0" max="1" step="0.01" value="0.35" />
      </label>
      <br />
      <label>
        Space:
        <input type="range" id="slider-space" min="0" max="1" step="0.01" value="0.10" />
      </label>
    </div>

    <div style="overflow:auto; max-height:60vh; padding-right:18px;">
      <table id="hii">
        <thead>
          <tr>
            <th data-k="name">Person</th>
            <th data-k="H_dom">HII-Domestic</th>
            <th data-k="P_dom">Prosperity</th>
            <th data-k="D_dom">Democracy</th>
            <th data-k="S_dom">Science & Tech</th>
            <th data-k="Sp_dom">Space</th>
            <th data-k="H_world">HII-World</th>
            <th data-k="P_world">Prosperity</th>
            <th data-k="D_world">Democracy</th>
            <th data-k="S_world">Science & Tech</th>
            <th data-k="Sp_world">Space</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <div class="foot">Click headers to sort. Click a row to see the rationale.</div>
  </section>
</main>

<script>
  // JavaScript to handle slider updates
  document.addEventListener("DOMContentLoaded", () => {
    const sliders = {
      prosperity: document.getElementById("slider-prosperity"),
      democracy: document.getElementById("slider-democracy"),
      science: document.getElementById("slider-science"),
      space: document.getElementById("slider-space"),
    };

    const weightsDisplay = {
      prosperity: document.getElementById("weight-prosperity"),
      democracy: document.getElementById("weight-democracy"),
      science: document.getElementById("weight-science"),
      space: document.getElementById("weight-space"),
    };

    Object.keys(sliders).forEach((key) => {
      sliders[key].addEventListener("input", () => {
        const value = parseFloat(sliders[key].value).toFixed(2);
        weightsDisplay[key].textContent = value;
        updateTable(); // Call your table update logic here
      });
    });

    function updateTable() {
      // Logic to re-render the table based on new weights
      console.log("Table updated with new weights:", {
        prosperity: sliders.prosperity.value,
        democracy: sliders.democracy.value,
        science: sliders.science.value,
        space: sliders.space.value,
      });
    }
  });
</script>